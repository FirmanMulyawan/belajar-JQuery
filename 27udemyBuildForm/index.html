<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Form Udemy</title>
</head>

<body>
    <h1>Welcome to Jquery</h1>
    <div>
        <form id="myForm">
            <table cellpadding="4">
                <tr>
                    <td>
                        <label for="first">FirstName: </label>
                    </td>
                    <td>
                        <input type="text" name="first" id="first">
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="last">LastName: </label>
                    </td>
                    <td>
                        <input type="text" name="last" id="last">
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="email">Email: </label>
                    </td>
                    <td>
                        <input type="text" name="email" id="email">
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="password">Password: </label>
                    </td>
                    <td>
                        <input type="password" name="password" id="password">
                    </td>
                </tr>
                <tr>
                    <td>
                        <button type="button">Submit</button>
                    </td>
                </tr>
            </table>
        </form>
    </div>
</body>
<script src="./jquey.js"></script>

<script>
    $(document).ready(function () {
        $('button').click(function () {
            validateMe();
            // alert('hi')
        });
        function validateMe() {
            $('label').css('color', 'black');

            let error = [];
            let emailReg = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            // console.log($('#myForm input'));
            $('#myForm input').each(function () {
                let inputName = $(this).attr('name');
                if ($(this).val().length > 4) {
                    // console.log($(this).attr('name'));
                    // if (!emailReg.test($(this).val())) {
                    if (inputName == 'email' && !emailReg.test($(this).val())) {
                        error.push($(this).attr('name'));
                    }
                }
                // } else { console.log('valid') }
                else {
                    error.push($(this).attr('name'));
                }
                // console.log($(this).val().length);

            });
            if (error.length == 0) {
                $('#myForm').submit();
            } else {
                for (x = 0; x < error.length; x++) {
                    $('label[for="' + error[x] + '"]').css('color', 'red');
                    // $('input[name="' + error[x] + '"]').after('<span>Error</span>')
                    console.log(error[x])
                }
            }
        }
        // $(;#myForm).submit();
    });
</script>

</html>